{% extends "base.html" %}
{% block title %}Settings · {{ site_name or 'Flux Licensing' }}{% endblock %}
{% block content %}
<div class="grid md:grid-cols-2 gap-6">
  <div class="p-6 rounded-2xl bg-slate-900/70 border border-slate-800 shadow">
    <h2 class="text-xl font-semibold">General</h2>
    <form method="post" action="/settings" class="space-y-3 mt-4">
      <div>
        <label class="text-sm">Site name</label>
        <input type="text" name="site_name" value="{{ data.site_name }}"
               class="w-full px-3 py-2 rounded-lg bg-slate-800 border border-slate-700 focus:ring-2 focus:ring-fuchsia-600">
      </div>
      <div>
        <label class="text-sm">Accent</label>
        <select name="accent" class="w-full px-3 py-2 rounded-lg bg-slate-800 border border-slate-700">
          {% for c in ['fuchsia','blue','emerald','rose','amber','violet','sky'] %}
            <option value="{{c}}" {% if data.accent==c %}selected{% endif %}>{{c}}</option>
          {% endfor %}
        </select>
      </div>
      <button class="px-3 py-2 rounded-lg bg-slate-800 hover:bg-slate-700">Save</button>
    </form>
  </div>

  <div class="p-6 rounded-2xl bg-slate-900/70 border border-slate-800 shadow">
    <h2 class="text-xl font-semibold">Branding</h2>
    <form method="post" action="/upload_logo" enctype="multipart/form-data" class="space-y-3 mt-4">
      <div>
        <label class="text-sm block mb-1">Navbar Logo (PNG/JPG/WEBP/ICO, ≤5MB)</label>
        <input type="file" name="logo" accept=".png,.jpg,.jpeg,.webp,.ico" class="block w-full text-sm" />
      </div>
      <button class="px-3 py-2 rounded-lg bg-slate-800 hover:bg-slate-700">Upload</button>
      {% if logo_exists %}
      <div class="mt-3 flex items-center gap-3 text-sm text-slate-400">
        <img src="{{ url_for('static', filename='logo.png') }}" alt="logo" class="h-10 w-10 rounded bg-slate-800/50 object-contain">
        <span>logo.png is set</span>
      </div>
      {% endif %}
    </form>
  </div>
</div>
{% endblock %}
